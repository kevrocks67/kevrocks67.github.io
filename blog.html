<!DOCTYPE html/>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>My Blog</title>
        <meta name="description" content="Kevin Diaz Blog">
        <meta name="author" content="Kevin Diaz">
        <link rel="stylesheet" type="text/css" href="css/blog.css">
    </head>

    <body>

        <!-- LB -->

		<div class="entry">
			<h2 id='detecting-the-effect-of-a-phishing-attack-on-your-gsuite-domain'><a href="blog/detecting-the-effect-of-a-phishing-attack-on-your-gsuite-domain.html">Detecting The Effect Of A Phishing Attack On Your G Suite Domain</a></h2>
			<small>[<a href="blog.html#detecting-the-effect-of-a-phishing-attack-on-your-gsuite-domain">link</a>&mdash;<a href="blog/detecting-the-effect-of-a-phishing-attack-on-your-gsuite-domain.html">standalone</a>]</small>

			<p>
				One of the things we have to be weary of as administrators is security. Phishing attacks are constantly becoming harder to detect and defend against. Other times, it is quite
                easy to detect. In this post I will tell you what to do when you detect a phishing attack on your domain and how to mitigate.
			</p>
            <p>
                Recently our domain received a phishing attack which told users that they had a new voicemail from someone and to click on a link to view it. When clicked, you were redirected to
                an outlook login page with your email address already entered in the username field. None of the IT department received the email, but a lot of employees did. We received a question 
                about it from one employee and did not think much of it. I simply recommended that they not open it as I thought it was an isolated incident. I now realize that I should have done 
                more in response. No less than an hour later, I received two more questions about the same email. Luckily, those two employees realized it looked sketchy and did not click on the
                link.
                I instantly knew that this was a phishing attack on the domain. All of the emails had 
                the same sender, but slightly different subject lines so I knew that the sender was the constant I needed to use to run my audit.
            </p>
            <p>
                To run my audit, these are the steps I took:
                <ol>
                <li>Log in to G Suite dashboard</li>
                <li>Go to "Reports" tab</li>
                <li>Scroll down to the audit section on the sidebar and select "Email Log Search"</li>
                <li>Enter your desired search parameters, in this case the senders email address</li>
                <li>Select an appropriate time frame to check. I checked the last 7 days since it was recent</li>
                <li>Save the results as a google sheets file in the upper right corner and share it with your team</li>
                </ol>

                Now that we have the logs, we can start mitigating the problem. The first thing I did was to cut the head off the snake by setting a global block on the email address in the
                G Suite admin console. Afterwards, I prepared an email advising all employees of the situation, what to look for, what happens when you click on the link, and what to do if they 
                have received the email. Using the logs, I was able to also individually verify with those affected if they had clicked on the link and then reset their passwords. Lastly, I was 
                able to detect the time and date of incident which was actually the night before. I was not alerted to it until the next evening so it is possible that multiple people clicked on the
                link.
            </p>
            <h3>Takeaways</h3>
            <p>
                There is not a lot we can do about these attacks except deal with them after they occur. A password compromise of a super admin account via a phishing attack could be devastating
                for your domain as the attacker will have complete control over everything. This is also one of the reasons you should educate your users and administrators on the dangers of such
                attacks and how to detect them. Next time, I will be sure to run an audit as soon as I see the first message since it is so easy and quick to do. It will help me reduce the number
                of people clicking on such emails. I will also look into some possible defensive cyber education for users.
            </p>
			<small>Thu, 22 Nov 2018</small>
		</div>

		<div class="entry">
			<h2 id='using-projectors-with-i3wm'><a href="blog/using-projectors-with-i3wm.html">Using Projectors with i3wm</a></h2>
			<small>[<a href="blog.html#using-projectors-with-i3wm">link</a>&mdash;<a href="blog/using-projectors-with-i3wm.html">standalone</a>]</small>

			<p>
				I use arch linux with i3-gaps on an old w520 I saved from being recycled. This computer and
                environment has truly helped me increase my efficiency. The downside, is that everything has 
                to be manually configured. I do not mind this at all, however, because it has helped me 
                understand how computers do certain things. If you were to just plug in the vga cord on a
                computer running i3wm, nothing would happen. You would then run xrandr to see if the vga
                connection even shows up and you will realize it has not. This is because there is no 
                program running in the background to detect these display changes. You have to manually
                start the VGA output in xrandr. So, you run 
                
                <code>xrandr --output VGA-1 --mode 1024x768</code>

                and find that now it works, but it looks really wierd. You try scaling the display and 
                shifting it but find no success. Why is this?
			</p>
            <p>
                If we take a look at a windows computer, or even one running an actual DE like gnome,
                we can see that the screen resolution for both the output screen and the laptop
                display both change. In fact they set themselves to the same resolution as one another
                This seems like a simple idea, but unless you are actually
                paying attention when you plug in a vga cable, you do not really notice it. What
                I ended up doing to solve this problem was writing 2 small scripts. One I run when
                I plug in a vga output and another when I remove the vga output.

                To activate it, I use <code>xrandr --output LVDS-1-1 --mode 1024x768 --output VGA-0 --mode 1024x768</code>.
                To disable it, I use <code>xrandr --output LVDS-1-1 --mode 1920x1080 --output VGA-0 --off</code>.

                One thing I did notice is that the script for turning on the vga output will not work
                until you run xrandr on its own. It may have something with letting xrandr try and 
                detect the new connection.
                There is probably a method to automate this process, but until I figure it out,
                this is what I will do. I only use vga occasionally to test projector and smartboard 
                functionality after a repair.
            </p>
			<small>Mon, 22 Oct 2018</small>
		</div>


		<div class="entry">
			<h2 id='first-entry'><a href="blog/first-entry.html">First Entry</a></h2>
			<small>[<a href="blog.html#first-entry">link</a>&mdash;<a href="blog/first-entry.html">standalone</a>]</small>

			<p>
				This is my first blog entry. In this blog I plan to occassionally update it with tutorials on things 
                I use in my day-to-day life, have learned or practiced in my home lab. I may possibly speak my opinion 
                on certain topics in technology. 
			</p>
			<small>Sun, 21 Oct 2018</small>
		</div>
    </body>
</html>

